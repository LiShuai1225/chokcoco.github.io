!function(e){var t=!1,n=function(e){t&&console.log(e)},o={},i={css:{fontSize:"90%",largeFontSize:"120%",fontColor:"#999",activeFontColor:"#87daff",lineHeight:"1.8",backgroundColor:"#222",zIndex:999999},title:"文章目录",windowMinWidth:600,sideBarId:"sidebar-toc-Ik4D",sideBarWidth:"300px",sideBarPrefix:"sidebar-toc-Ik4D-",itemPrefix:"- ",headingList:["h1","h2","h3","h4","h5","h6"],enableToTopButton:!0,enableToc:!0,overlay:!1,autoDetectHeadings:!0,contentId:"",contentClass:"",displayNow:!1,topOffset:0},r=function(){var t=document.createElement("div");t.setAttribute("id",i.sideBarId),t.setAttribute("class",i.sideBarId),e("body").append(t),e(t).css({background:i.css.backgroundColor+" none repeat scroll 0 0",bottom:"0","box-shadow":"0 2px 4px #000 inset",position:"fixed",right:"0",top:"0",width:"0","z-index":""+i.css.zIndex,color:i.css.fontColor,overflow:"auto","font-size":i.css.fontSize,"text-align":"left"}),a(),p()},a=function(t){var t=t||document;contentRef=t.body,i.contentClass.length>0&&(contentRef=document.getElementsByClassName(i.contentClass)[0]),i.contentId.length>0&&(contentRef=document.getElementById(i.contentId)),n(contentRef);var o=t.getElementById(i.sideBarId),r=t.createElement("div");e(r).css({"text-align":"center","border-bottom-color":i.css.activeFontColor,color:i.css.activeFontColor,"border-width":"0 0 1.5px 0","border-style":"solid","font-size":i.css.largeFontSize,padding:"8px 0"}),r.textContent=i.title,o.appendChild(r);var a=i.headingList;if(a.length>0){var d=[].slice.call(contentRef.querySelectorAll(a.join(", ")));d.forEach(function(n,r){var d=t.createElement("a");d.setAttribute("name",""+i.sideBarPrefix+r),d.setAttribute("id",""+i.sideBarPrefix+r),n.parentNode.insertBefore(d,n);var c=t.createElement("a");c.setAttribute("href","#"+i.sideBarPrefix+r),c.textContent=i.itemPrefix+n.textContent,e(c).click(function(t){e(this).parent().parent().find("a").css({color:i.css.fontColor}),e(this).css({color:i.css.activeFontColor});var n=e(e(this).attr("href")).offset().top-i.topOffset;f(),e("html, body").stop().animate({scrollTop:n},{duration:300,complete:p}),t.preventDefault()});var l=t.createElement("div");e(l).css({"padding-left":s(n.tagName.toLowerCase(),a,20),"text-align":"left"}),l.appendChild(c),o.appendChild(l)})}e("#"+i.sideBarId+" div").css({margin:"0 12px"});var c="#"+i.sideBarId+" a, ";c+="#"+i.sideBarId+" a:hover, ",c+="#"+i.sideBarId+" a:visited",e(c).css({color:i.css.fontColor,"word-wrap":"break-word","text-decoration":"none","line-height":i.css.lineHeight})},s=function(e,t,n){for(var o=0;o<t.length&&e!==t[o];o++);return o>=t.length&&(o=0),""+o*n+"px"},d=function(){var t=document.createElement("div");t.setAttribute("id",i.sideBarPrefix+"toggleBtn"),e(t).css({background:"#222 none repeat scroll 0 0",bottom:"55px",cursor:"pointer",height:"15px","line-height":"0",padding:"5px",position:"fixed",right:"50px",width:"15px","z-index":""+(i.css.zIndex+1)});for(var n=0;3>n;n++){var o=document.createElement("span");e(o).css({background:"#87daff none repeat scroll 0 0",display:"inline-block",height:"2px","margin-top":"2px",position:"relative","vertical-align":"top",width:"100%"}).appendTo(t)}e("body").append(t),t.onclick=c},c=function(){if(n("in toggleButtonClickListener: overlay "+i.overlay),!(e(window).width()<i.windowMinWidth)){var t=e("#"+i.sideBarId);t.hasClass(i.sideBarPrefix+"active")?(t.removeClass(i.sideBarPrefix+"active"),e(t).animate({width:"0"}),i.overlay||e("body").animate({"margin-right":"0"})):(t.addClass(i.sideBarPrefix+"active"),e(t).animate({width:i.sideBarWidth}),i.overlay||e("body").animate({"margin-right":i.sideBarWidth}))}},l=function(){var t=document.createElement("div");t.setAttribute("id",i.sideBarPrefix+"toTopBtn"),e(t).css({background:"#222 none repeat scroll 0 0",bottom:"25px",cursor:"pointer",height:"15px","line-height":"15px",padding:"5px",position:"fixed",right:"50px",width:"15px","z-index":""+(i.css.zIndex+1),color:"#fff","font-size":"16px","text-align":"center"}).html('<span style="margin: 0 auto">&#9650;</span>'),t.onclick=function(){e("html, body").animate({scrollTop:0},600)},e("body").append(t)},h=function(){var t=e(this).scrollTop()+10,n=o.scrollItems.map(function(){return e(this).offset().top<t?this:void 0});n=n[n.length-1];var r=n&&n.length?n[0].id:"";o.lastId!==r&&(o.lastId=r,o.menuItems.css({color:i.css.fontColor}),o.menuItems.filter("[href=#"+r+"]").css({color:i.css.activeFontColor}))},f=function(){e(window).off("scroll",h)},p=function(){e(window).scroll(h)},g=function(){var t="body";return i.contentClass.length>0&&(t="."+i.contentClass),i.contentId.length>0&&(t="#"+i.contentId),e(t)},u=function(t,n){t=t||1,n=n||6;var o=["h1","h2","h3","h4","h5","h6"];scope=g();for(var i=[],r=0;r<o.length&&(heading=o[r],0==i.length?scope.find(heading).length>=t&&i.push(heading):e(heading).length>=1&&i.push(heading),!(i.length>=n));r++);return i},m=function(e){scope=g();for(var t=[],n=0;n<e.length;n++)heading=e[n],scope.find(heading).length>0&&t.push(heading.toLowerCase());return t},x=function(){return 0==e("#"+i.sideBarPrefix+"toggleBtn").length?!1:!0},v=function(){return 0==e("#"+i.sideBarPrefix+"toTopBtn").length?!1:!0};e.extend({awesome_toc:function(t){e.extend(!0,i,t),i.contentId=i.contentId.trim(),i.contentClass=i.contentClass.trim(),i.autoDetectHeadings&&(i.headingList=u()),i.headingList=m(i.headingList),i.enableToc&&!x()&&(r(),d(),o.lastId="",o.sideBar=e("#"+i.sideBarId),o.menuItems=o.sideBar.find("a"),o.scrollItems=o.menuItems.map(function(){var t=e(e(this).attr("href"));return t.length?t:void 0}),n(o)),i.enableToTopButton&&!v()&&l(),i.displayNow&&c()}})}(jQuery);