(function(t,e){parabola=function(){var e=document.querySelector(".drap"),n=document.querySelector(".parabola .ball"),i=e.offsetWidth/2,o=e.offsetHeight/2,a={x:960,y:300},r=n.getBoundingClientRect().left+n.offsetWidth*.5-a.x,f=n.getBoundingClientRect().top+n.offsetHeight*.5-a.y,l=false;function s(t,e,i){var o=.003,l=0,s=0,t=t-a.x,e=e-a.y,u=Date.now();l=(e-f-o*(t*t-r*r))/(t-r);s=e-o*t*t-l*t;requestAnimationFrame(function c(){var e=Math.min(1,(Date.now()-u)/i),a=(t-r)*e+r,f=o*a*a+l*a+s;n.style.left=a+960+"px";n.style.top=f+300+"px";if(e<1)requestAnimationFrame(c)})}return{eventBind:function(){e.addEventListener("mousedown",function(){l=true},false);e.addEventListener("mouseup",function(t){l=false;var e=t.pageX,n=t.pageY;s(e,n,2e3)},false);t.addEventListener("mousemove",function(t){var n=t.pageX,a=t.pageY;if(l){e.style.left=n-i+"px";e.style.top=a-o+"px"}},false)},init:function(){this.eventBind()}}}();sine=function(){var t=document.querySelector(".sine .ball"),e=document.body.clientWidth*.8,n=t.getBoundingClientRect().left+Math.max(document.body.scrollLeft,document.documentElement.scrollLeft),i=t.getBoundingClientRect().top+Math.max(document.body.scrollTop,document.documentElement.scrollTop)-document.querySelector(".parabola").offsetHeight;function o(){var o=Date.now(),a=2e4;requestAnimationFrame(function r(){var f=Math.min(1,(Date.now()-o)/a),l=e*f,s=.05*e*Math.sin(10*Math.PI*f);t.style.left=l+n+"px";t.style.top=s+i+"px";if(f<1)requestAnimationFrame(r)})}return{eventBind:function(){t.addEventListener("click",function(){this.style.left=n+"px";this.style.top=i+"px";o()},false)},init:function(){o();this.eventBind()}}}();circular=function(){var t=document.querySelector(".circular"),e=t.querySelector(".circular .ball"),n=t.offsetWidth*.5-e.offsetWidth*.5,i=t.offsetHeight*.5-e.offsetHeight*.5;function o(){var o=Date.now(),a=2e4,r=t.offsetHeight*.6/2;requestAnimationFrame(function f(){var t=Math.min(1,(Date.now()-o)/a),l=r*Math.cos(10*Math.PI*t),s=-r*Math.sin(10*Math.PI*t);e.style.left=l+n+"px";e.style.top=s+i+"px";if(t<1)requestAnimationFrame(f)})}return{eventBind:function(){e.addEventListener("click",function(){this.style.left=n+"px";this.style.top=i+"px";o()},false)},init:function(){o();this.eventBind()}}}();var n=function(){var t=document.querySelector(".freefall"),e=t.querySelector(".freefall .ball"),n=t.offsetWidth*.5-e.offsetWidth*.5,i=t.offsetHeight*.1-e.offsetHeight*.5;console.log("freefall startX "+n);console.log("freefall startY "+i);function o(){var n=Date.now(),o=t.offsetHeight*.8,r=o/20,f=Math.sqrt(2*r/10)*1e3;requestAnimationFrame(function l(){var t=Math.min(1,(Date.now()-n)/f),r=o*t*t;e.style.top=r+i+"px";if(t<1){requestAnimationFrame(l)}else{a()}})}function a(){var n=Date.now(),a=t.offsetHeight*.8,r=a/20,f=Math.sqrt(2*r/10)*1e3;requestAnimationFrame(function l(){var t=Math.min(1,(Date.now()-n)/f),r=a-a*t*(2-t);e.style.top=r+i+"px";if(t<1){requestAnimationFrame(l)}else{o()}})}return{init:function(){o()}}}();parabola.init();sine.init();circular.init();n.init()})(window);